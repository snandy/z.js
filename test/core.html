<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>Z.js</title>
		<style type="text/css">
			html, body {
				margin: 0;
			}
		</style>
		<script type="text/javascript" src="../z.src.js"></script>
	</head>
	<body style="height: 1000px">
	
		<p id="pid">id</p>
		<p class="cls">className</p>
		
		<div data-attr="ddd">
			<div id="sub" style="top:10px;">
				<p>
					<a href="http://www.sohu.com" id="ll">链接</a>
				</p>
			</div>
			<p>段落</p>
		</div>
		<p id="p2">
			<span class="cls">span.cls</span>
		</p>
		<p data-attr="ppp" data~pp="ss" style="opacity:0.1">attr</p>
	<script>
function extend(obj) {
    var target, start
    var isDeep = false
    var argsLength = arguments.length

    if ( obj === true ) {
        isDeep = true
    }

    if (isDeep) {
        if (argsLength === 2) {
            target = this
            start = 1
        } else {
            target = arguments[1]
            start = 2
        }
    } else {
        if (argsLength === 1) {
            target = this
            start = 0
        } else {
            target = obj
            start = 1
        }
    }

    forEach(sliceArgs(arguments, start), function(source) {
        if (source) {
            for (var prop in source) {
                if (isDeep) {
                    target[prop] = Z.extend(source[prop])
                } else {
                    target[prop] = source[prop]    
                }
            }
        }
    })
    return target
}

var p = {name: 'backus'}
var obj = {name:1, p:p}


	</script>
	</body>
</html>
