/*!
 * Z.js v0.1.0
 * @snandy 2014-04-17 11:19:14
 *
 */
Z.declareUI("Dragdrop",function(){var t=Z(window),e=Z(document);e[0];var n=Z.Function,r=/^xy$/;this.init=function(t,e){this.elem=Z.isElement(t)?t:Z(t)[0],this.handle=e.handle,this.canDrag=e.canDrag!==!1,this.axis=e.axis||"xy",this.area=e.area||[],this.inwin=e.inwin||!1,this.cursor=e.cursor||"move",this.zIndex=e.zIndex||"",this.dragObj=Z(this.elem),this.downObj=this.handle?this.dragObj.find(this.handle):dragObj,this.downObj.css("cursor",this.cursor);var r=n.bind(this.onMousedown,this);this.downObj.mousedown(function(t){r(t)})},this.onMousedown=function(r){var i=this.dragObj[0];this.dragObj.css("position","absolute");var s=Z.viewSize();if(this.dragElemWidth=Math.max(i.offsetWidth,i.clientWidth),this.dragElemHeight=Math.max(i.offsetHeight,i.clientHeight),this.dragElemMarginTop=parseInt(i.style.marginTop,10)||0,this.dragElemMarginLeft=parseInt(i.style.marginLeft,10)||0,this.inwin){var o=s.width-this.dragElemWidth,a=s.height-this.dragElemHeight;this.area=[0,o,0,a]}var u=n.bind(this.onMousemove,this);this.mouseup=n.bind(this.onMouseup,this),this.mousemove=function(t){u(t)},window.captureEvents?(r.stopPropagation(),r.preventDefault(),t.blur(this.mouseup)):i.setCapture&&(i.setCapture(),r.cancelBubble=!0,this.dragObj.on("losecapture",this.mouseup)),this.diffX=r.clientX-i.offsetLeft,this.diffY=r.clientY-i.offsetTop,e.mousemove(this.mousemove),e.mouseup(this.mouseup),this.fire("start")},this.onMousemove=function(t){var e,n,i,s,o=t.clientX-this.diffX,a=t.clientY-this.diffY,u=this.dragObj,c=u[0],l=this.area;if(this.area&&(e=l[0],n=l[1],i=l[2],s=l[3],e>o&&(o=e),o>n&&(o=n),i>a&&(a=i),a>s&&(a=s)),this.canDrag){var f=this.axis;o-=this.dragElemMarginTop,a-=this.dragElemMarginLeft,("x"===f||r.test(f))&&(c.style.left=o+"px"),("y"===f||r.test(f))&&(c.style.top=a+"px")}this.fire("drag",o,a)},this.onMouseup=function(){var n=this.dragObj[0];e.off("mousemove",this.mousemove),e.off("mouseup",this.mouseup),window.releaseEvents?t.off("blur",this.mouseup):dargElem.releaseCapture&&(dragObj.off("losecapture",this.mouseup),n.releaseCapture()),this.fire("end")},this.stopDrag=function(){this.canDrag=!1},this.startDrag=function(){this.canDrag=!0}}),Z.declareUI("Tab",function(){Z.Function,this.init=function(t,e){var e=e||{};this.elem=Z.isElement(t)?t:Z(t)[0],this.eventType=e.eventType||"mouseover",this.currClass=e.currClass||"curr",this.autoPlay=e.autoPlay||!1,this.interval=e.interval||5e3,this.currIndex=e.currIndex||0,this.attrName=e.attrName||"data-ui",this.tabNavVal=e.tabNavVal||"tab-nav",this.tabConVal=e.tabConVal||"tab-content";var n=this.attrName,r=this.tabNavVal,i=this.tabConVal,s=this.elemObj=Z(this.elem),o=this.navObj=s.find("["+n+"="+r+"]"),a=this.contentObj=s.find("["+n+"="+i+"]");if(o.length!=a.length)throw Error("navObj and contentObj length must be equal");this.length=o.length,this.change(this.currIndex),this.autoPlay&&this.play();var u=this;s.delegate("["+n+"="+r+"]",this.eventType,function(){var t=o.index(this);u.change(t)})},this.change=function(t){var e=this.navObj,n=this.contentObj,r=this.currClass,i=e.eq(t),s=n.eq(t);this._preNav=this._preNav?this._preNav:i,this._preCon=this._preCon?this._preCon:s,this._preNav.removeClass(r),i.addClass(r),this._preNav=i,this._preCon.hide(),s.show(),this._preCon=s,this.currIndex=t,this.fire("change",t)},this.play=function(){var t=this;this.timer=setInterval(function(){var e=t.currIndex+1;e===t.length&&(e=0),t.change(e)},this.interval)},this.stop=function(){clearInterval(this.timer)}});